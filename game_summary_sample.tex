\documentclass[a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{xskak}
\usepackage{geometry}
\usepackage{pifont, graphics, amssymb}
\geometry{textheight = 22cm}
\begin{document}
\newcommand\getmovestyle[1]{%
\ifthenelse
  {\equal{#1}{N}}%knight move
  {\def\mymovestyle{[clockwise=false,style=knight]curvemove}}%
  {\ifthenelse
    {\equal{#1}{}}% castling
    {\def\mymovestyle{curvemove}}%
    {\def\mymovestyle{straightmove}}}}%


{\huge Game summary generated by SpaceDog}

\bigskip

\bigskip

\newchessgame\mainline{1. e4 d6 2. Nc3 Nf6 3. Nf3 g6 4. d4 Bg7 5. Bc4 Nc6 6. O-O Bg4 7. Qe2 Nxd4 8. Qd3 Nxf3+ 9. gxf3 Bh5 10. Be3 Bxf3 11. Rfe1 e5 12. Nd5 Nxe4 13. Bb5+ c6 14. Ba4 b5 15. Bb3 Nc5 16. Bxc5 Qg5+ 17. Kf1 Qg2#}

\medskip

\begin{center}
\xskakloop[step=4,showlast]{
\getmovestyle{\xskakget{piecechar}}
\begin{tabular}{c}
\chessboard[pgfstyle=\mymovestyle, color=blue,
  markmoves=\xskakget{move}, pgfshortenend=0.3em, arrow=to, coloremph, color=red, markstyle=circle, markfield=\xskakget{moveto},
  emphfields=\xskakget{moveto}, smallboard,setfen=\xskakget{nextfen}]\\
\xskakget{opennr}
\xskakget{san}
\end{tabular}\quad}
\end{center}

\end{document}